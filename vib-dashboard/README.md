# Vibration Dashboard (FastAPI + React)

This repository contains a minimal FastAPI backend that accepts raw vibration time-series, extracts time-domain features, runs a scikit-learn `model.pkl` to predict, and streams predictions over WebSocket to a React frontend which visualizes raw signals and live prediction using Plotly.

Directory layout

```
vib-dashboard/
├─ backend/
│  ├─ app/
│  │  ├─ main.py
│  │  ├─ features.py
│  │  └─ model.pkl   # optional - generated by create_dummy_model.py
  ├─ sensor_simulator.py
  ├─ create_dummy_model.py
  └─ requirements.txt
├─ frontend/
│  ├─ package.json
│  └─ src/
│     └─ App.js
└─ README.md
```

Quick start (Windows PowerShell)

1) Create a Python virtualenv and install backend deps

```powershell
cd vib-dashboard\backend
python -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install -r requirements.txt
```

2) (Optional) Create a dummy model so the app can run out-of-the-box

```powershell
python create_dummy_model.py
# this writes backend/app/model.pkl
```

3) Run the FastAPI server

```powershell
uvicorn app.main:app --reload --port 8000
```

4) Start the frontend (separate terminal)

```powershell
cd vib-dashboard\frontend
npm install
npm start
```

5) Use the frontend UI: click "Send Simulated Data" — prediction and plots should appear.

API endpoints

- POST /predict — accepts JSON payload with arrays per channel (e.g., {"B1": [...], "B2": [...], ...}). Returns prediction and optional probabilities.
- WebSocket /ws — clients can send the same JSON payloads and receive prediction messages in real-time.

Notes

- Ensure the `model.pkl` contains any preprocessing (scaler) used during training. The `create_dummy_model.py` script creates a small RandomForestClassifier for testing but is not representative of production.
- For real streaming devices, you may want to buffer samples server-side and compute features on sliding windows (e.g., 1024 samples, 50% overlap).
